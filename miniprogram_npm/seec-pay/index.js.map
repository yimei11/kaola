{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js"],"names":["_this","self","show","wx","seecRequestPayment","timeStamp","nonceStr","_package","signType","paySign","success","fail","complete","split","length","errMsg","Component","data","title","total","open","pw","tempRes","lifetimes","created","methods","arr","setData","decodeURIComponent","Number","toFixed","setTimeout","hide","close","keyboard","num","target","dataset","undefined","pop","push","check","showLoading","mask","request","method","url","header","token","id","order_number","res","hideLoading","err"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const _this = {\n  self: {\n    show: () => {}\n  }\n}\nwx.seecRequestPayment = ({\n  timeStamp = '', // 时间戳，从1970年1月1日00:00:00至今的秒数，即当前的时间\n  nonceStr = '', // 随机字符串，长度为32个字符以下\n  _package = '', // 统一下单接口返回的 prepay_id 参数值，提交格式如：prepay_id=***\n  signType = '', // 签名算法，应与后台下单时的值一致\n  paySign = '', // 签名，具体见微信支付文档\n  success = () => {},\n  fail = () => {},\n  complete = () => {}\n} = {}) => {\n  _this.timeStamp = timeStamp\n  _this.nonceStr = nonceStr\n  _this._package = _package\n  _this.signType = signType\n  _this.paySign = paySign\n  _this.success = success\n  _this.fail = fail\n  _this.complete = complete\n  if (_package.split('=').length !== 2 || paySign.split('##').length !== 6) {\n    _this.fail({\n      errMsg: '参数错误'\n    })\n    _this.complete({\n      errMsg: '参数错误'\n    })\n    return\n  }\n  _this.self.show()\n}\n\nComponent({\n  data: {\n    title: '',\n    total: '0.00',\n    show: false,\n    open: false,\n    success: false,\n    pw: [],\n    tempRes: null\n  },\n  lifetimes: {\n    created() {\n      _this.self = this\n    }\n  },\n  methods: {\n    show() {\n      const arr = _this.paySign.split('##')\n      this.setData({\n        title: decodeURIComponent(arr[4]),\n        total: Number(arr[3]).toFixed(2),\n        show: true\n      })\n      setTimeout(() => {\n        this.setData({\n          open: true\n        })\n      }, 300)\n    },\n    hide() {\n      this.setData({\n        title: '',\n        total: '0.00',\n        show: false,\n        open: false,\n        success: false,\n        pw: [],\n        tempRes: null\n      })\n    },\n    close() {\n      _this.fail({\n        errMsg: '支付未完成'\n      })\n      _this.complete({\n        errMsg: '支付未完成'\n      })\n      this.hide()\n    },\n    keyboard({target: {dataset: {num}}}) {\n      if (num === undefined) return\n      if (num === '-1' && this.data.pw.length) {\n        this.data.pw.pop()\n      }\n      if ((num !== undefined && num !== '-1') && this.data.pw.length < 6) {\n        this.data.pw.push(num)\n      }\n      this.setData({\n        pw: this.data.pw\n      })\n      this.check()\n    },\n    check() {\n      if (this.data.pw.length === 6) {\n        wx.showLoading({\n          title: '正在支付',\n          mask: true\n        })\n        const arr = _this.paySign.split('##')\n        const self = this\n        wx.request({\n          method: 'POST',\n          url: decodeURIComponent(arr[5]),\n          header: {\n            token: arr[2]\n          },\n          data: {\n            id: Number(arr[1]),\n            order_number: _this._package.split('=')[1]\n          },\n          success(res) {\n            self.setData({\n              success: true\n            })\n            self.data.tempRes = res\n            wx.hideLoading()\n          },\n          fail(err) {\n            _this.fail(err)\n            _this.complete(err)\n            wx.hideLoading()\n            self.hide()\n          }\n        })\n      }\n    },\n    success() {\n      const res = this.data.tempRes\n      _this.success(res)\n      _this.complete(res)\n      this.hide()\n    }\n  }\n})\n"],"sourceRoot":""}